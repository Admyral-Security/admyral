# Slack

## Create a Slack bot and connect to Admyral

1. Go to the [Your Apps](https://api.slack.com/apps) page and click **Create an App** button.

2. Click on **From Scratch**.

<img src="/slack1.png" />

3. Enter your App Name. For example, enter **Admyral**.

4. Select your workspace.

5. Click **Create App**.

<img src="/slack2.png" />

6. Go to **OAuth & Permissions**

<img src="/slack3.png" />

7. Scroll down to **Scopes** and add the following scopes:

**Bot Token Scopes**

```
- chat:write
- users:read
- users:read.email
- channels:manage
- groups:write
- im:write
- mpim:write
- reactions:write
```

**User Token Scopes**

```

```

8. In the sidepanel, go to **Install App** and click **Install to Workspace**.

<img src="/slack4.png" />

9. Click **Allow**.

10. Copy the **Bot User OAuth Access Token**.

<img src="/slack5.png" />

11. Go to the **Settings** page in **Admyral**. Click on **Create New Secret** in the **Secrets** section.

12. Give your credential a name, e.g. `Slack`.

13. The following secrets structure is expected:

| Key       | Value                                    |
| --------- | ---------------------------------------- |
| `api_key` | Paste your **Bot User OAuth Token** here |

Alternatively, you can use the following CLI command structure:

```bash
admyral secret set slack_secret --value api_key=your_key_value
```

14. Click on the **Save** button.

<img src="/slack7.png" />

15. To communicate with existing Slack channels, you need to invite the bot to the channel. Go to the channel and type `/invite @<your app name>` (e.g. `/invite @Admyral`). Alternatively, you can add the scope `chat:write.public` to the **Bot Token Scopes**.

16. You can now use the Slack APIs in Admyral.
