import { Callout } from "nextra/components";

# List Devices

Get a list of all devices in an organization from Kandji.

<Callout type="info">
	For more information on the API, see [List
	devices](https://api-docs.kandji.io/#78209960-31a7-4e3b-a2c0-95c7e65bb5f9).
</Callout>

**Required permissions:**

-   `Device list`
-   `Device details`

**SDK Import:**

```python
from admyral.actions import list_kandji_devices
```

## Arguments:

| Argument Name             | Description                                                                                    | Required |
| ------------------------- | ---------------------------------------------------------------------------------------------- | :------: |
| Last Check In Within Days | Only keep devices that have checked in within the last defined days.                           |    No    |
| Platform                  | Only keep devices that match the defined platform. Possible values: Mac, iPad, iPhone, AppleTV |    No    |
| Blueprints                | Only keep devices that match the defined blueprints.                                           |    No    |
| FileVault Enabled         | Only keep devices that have FileVault enabled. Only for Mac devices.                           |    No    |

## Returns

A JSON array of managed devices.

## Required Secrets

| Secret Placeholder | Description                                                    |
| ------------------ | -------------------------------------------------------------- |
| `KANDJI_SECRET`    | Kandji secret. See [Kandji setup](/integrations/kandji/kandji) |

## SDK Example

```python
devices = list_kandji_devices(
	last_checkin_within_days=90,
	blueprints=["Default Blueprint"],
	platform="Mac",
	filevault_enabled=False,
	secrets={"KANDJI_SECRET": "my_kandji_secret"}
)
```

## Example Output:

```json
[
	{
		"device_id": "03f81208-2b6a-4a77-81f5-cf1633bcfb95",
		"device_name": "accuhive's MacBook Air",
		"model": "MacBook Air (M1, 2020)",
		"serial_number": "FVHHFKF7Q6L4",
		"platform": "Mac",
		"os_version": "14.4.1",
		"supplemental_build_version": "23E224",
		"supplemental_os_version_extra": "",
		"last_check_in": "2024-07-23T14:11:37.150080Z",
		"user": {
			"email": "accuhive.admin@kandji.io",
			"name": "acchuive admin",
			"id": "5344c996-8823-4b37-8d6e-8515fc7c3a0a",
			"is_archived": false
		},
		"asset_tag": "sending_tag_to_now",
		"blueprint_id": "ab102b9d-8e9c-420d-a498-f2a1123091c7",
		"mdm_enabled": true,
		"agent_installed": true,
		"is_missing": false,
		"is_removed": false,
		"agent_version": "4.5.9 (5160)",
		"first_enrollment": "2024-01-26 16:15:36.087016+00:00",
		"last_enrollment": "2024-05-13 20:09:27.374451+00:00",
		"blueprint_name": "main hive",
		"lost_mode_status": "",
		"tags": ["accuhive_02"]
	},
	{
		"device_id": "d6ac2d8c-3852-4dc1-afe7-d5a32306ee39",
		"device_name": "14_1_1_23B81_as_adcs_testing",
		"model": "Virtual Machine",
		"serial_number": "Z6V0YW4M1C",
		"platform": "Mac",
		"os_version": "14.1.1",
		"supplemental_build_version": "23B81",
		"supplemental_os_version_extra": "",
		"last_check_in": "2023-12-24T22:00:00.756187Z",
		"user": {
			"email": "accuhive.admin@kandji.io",
			"name": "acchuive admin",
			"id": "5344c996-8823-4b37-8d6e-8515fc7c3a0a",
			"is_archived": false
		},
		"asset_tag": "",
		"blueprint_id": "9b1ce867-83dd-46bb-b79a-ba2b5c3a4acc",
		"mdm_enabled": true,
		"agent_installed": true,
		"is_missing": true,
		"is_removed": false,
		"agent_version": "4.3.3 (4811)",
		"first_enrollment": "2023-11-30 16:44:13.890383+00:00",
		"last_enrollment": "2023-11-30 16:44:13.890383+00:00",
		"blueprint_name": "_testing_something",
		"lost_mode_status": "",
		"tags": []
	}
]
```
