import { Callout } from "nextra/components";

# List Groups per User

This method lists all groups a user is a member of, along with the last time a user was active in Retool. It helps administrators understand which groups users belong to and their activity levels.

<Callout type="info">
	For more information on the API for listing groups per user, see [List
	users](https://docs.retool.com/reference/api/#tag/Users/paths/~1users/get)
	and [List
	groups](https://docs.retool.com/reference/api/#tag/Groups/paths/~1groups/get).
</Callout>

**Required Permission Scopes:**

-   `Users > Read`
-   `Groups > Read`

**SDK Import:**

```python
from admyral.actions import list_retool_groups_per_user
```

## Arguments

| Argument Name | Description | Required |
| ------------- | :---------: | -------- |

## Returns

A JSON object containing a mapping from users to another JSON object storing the names of the groups a user belongs to as well as the last active date.

Schema:

```
{
	user_email: {
		"last_active": last_active_date,
		"groups": list_of_group_names
	}
}
```

## Required Secrets

| Secret Placeholder | Description                                                    |
| ------------------ | -------------------------------------------------------------- |
| `RETOOL_SECRET`    | Retool secret. See [Retool setup](/integrations/retool/retool) |

## SDK Example

```python
groups_per_user = list_retool_groups_per_user(
	secrets={"RETOOL_SECRET": "my_stored_retool_secret"}
)
```
