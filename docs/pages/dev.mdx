import { Callout } from "nextra/components";

# Development Setup

## Prerequisites

-   Supabase CLI (For installation please refer to [Supabase CLI Installation](https://supabase.com/docs/guides/cli/getting-started#installing-the-supabase-cli))
-   Poetry (For installation please refer to [Poetry Installation](https://python-poetry.org/docs/#installation))
-   Rust 1.78.0 (For installation please refer to [Rust Installation](https://www.rust-lang.org/tools/install))
-   Node.js 20 (For installation please refer to [Node.js Installation](https://nodejs.org/en/download/))
-   pnpm (For installation please refer to [pnpm Installation](https://pnpm.io/installation))

## Setup

### Supabase

Inside the project directory, run `supabase start` to spin up the Postgres database and Supabase.

```bash
supabase start
```

To stop the services, simply run `supabase stop`.

```bash
supabase stop
```

### Backend

```bash
# 1. Go to the `backend` directory and create an env file:
cd backend
cp .env.example .env

# 2. Inside `backend`, run the initial setup (dependency installation, database migration, database seeding):
./initial_setup.sh

# 3. Start the server by executing the following script inside `backend`:
./start_server.sh
```

<Callout type="info">
	In order to make the Workflow Assistant work, you need to provide an OpenAI
	API Key in the `.env` file.
</Callout>

### Workflow Runner

```bash
# 1. Go to the `workflow-runner` directory and create an env file:
cd workflow-runner
cp .env.example .env

# 2. Inside `workflow-runner`, build and run the service:
cargo run
```

<Callout type="info">
	- To enable AI actions, you need to provide an OpenAI API Key in the `.env`
	file. - To enable the Send Email action, you need to provide a Resend API
	Key in the `.env` file.
</Callout>

### Web

```bash
# 1. Go to the `web` directory and install the dependencies:
cd web
npm install

# 2. Create an env file:
cp .env.example .env

# 3. Start the development server:
npm run dev
```

### Documentation

```bash
# 1. Go to the `docs` directory and install the dependencies:
cd docs
pnpm i

# 2. Start the development server:
pnpm dev
```
