import { Callout } from "nextra/components";
import { Tabs } from "nextra/components";

# Secrets Management

Secrets management allows users to securely store and manage API keys and tokens that applications use to authenticate to external services.

<Callout type="info">
	It is important to ensure that secrets are kept up-to-date and are only
	accessible to authorized personnel to maintain the security of your
	integrations.
</Callout>

<Callout type="info">
	List all secrets through the CLI using `admyral secret list`.
</Callout>

## Adding and Using New Secrets

<Tabs items={['Code', 'No-Code']}>
    <Tabs.Tab>
        Add secrets through the CLI:

    	```bash
    	admyral secret <your_secret> set
    	```

    	You can then use the secret, e.g. `<your_secret>` is `slack_secret` as follows:

    	```python
    	@workflow(
    		description="example_workflow",
    		triggers=[Webhook()],
    	)
    	def slack_send_message(payload: dict[str, JsonValue]):
    		send_slack_message(
    			channel_id="C0000000000",
    			text=f"This is how secrets are used within code.",
    			secrets={"SLACK_SECRET": "slack_secret"},
    		)
    	```

  </Tabs.Tab>
  <Tabs.Tab>
		1. Got to settings on the bottom left
		2. Click the `+ New secret` button to add a new set of secret.
		3. Enter the `Name` for the secret to be used as an identifier in your workflows or applications.
		4. Enter the `Value` which is the actual token or key that provides access.
  </Tabs.Tab>
</Tabs>

## Deleting Existing Secrets

<Tabs items={['Code', 'No-Code']}>
    <Tabs.Tab>
        Delete a secret through the CLI:

    	```bash
    	admyral secret <your_secret> delete
    	```

  </Tabs.Tab>
  <Tabs.Tab>
    	Click the delete icon to remove secrets that are no longer needed or should be revoked.
  </Tabs.Tab>
</Tabs>
