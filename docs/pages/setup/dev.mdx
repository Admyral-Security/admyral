# Development Setup

## Prerequisites

-   Supabase CLI (For installation please refer to [Supabase CLI Installation](https://supabase.com/docs/guides/cli/getting-started#installing-the-supabase-cli))
-   Poetry (For installation please refer to [Poetry Installation](https://python-poetry.org/docs/#installation))
-   Rust 1.78.0 (For installation please refer to [Rust Installation](https://www.rust-lang.org/tools/install))
-   Node.js 20 (For installation please refer to [Node.js Installation](https://nodejs.org/en/download/))
-   pnpm (For installation please refer to [pnpm Installation](https://pnpm.io/installation))

## Setup

### Supabase

Inside the project directory, run `supabase start` to spin up the Postgres database and Supabase. To stop the services, simply run `supabase stop`.

### Backend

1. Go to the `backend` directory and create an env file:

    ```bash
    cd backend
    cp .env.example .env
    ```

    - In order to make the Workflow Assistant work, you need to provide an OpenAI API Key in the `.env` file.

2. Inside `backend`, run the initial setup (dependency installation, database migration, database seeding):

    ```bash
    ./initial_setup.sh
    ```

3. Start the server by executing the following script inside `backend`:

    ```bash
    ./start_server.sh

    ```


### Workflow Runner

1. Go to the `workflow-runner` directory and create an env file:

    ```bash
    cd workflow-runner
    cp .env.example .env
    ```

    - To enable AI actions, you need to provide an OpenAI API Key in the `.env` file.
    - To enable the Send Email action, you need to provide a Resend API Key in the `.env` file.

2. Inside `workflow-runner`, build and run the service:

    ```bash
    cargo run
    ```


### Web

1. Go to the `web` directory and install the dependencies:

    ```bash
    cd web
    npm install
    ```

2. Create an env file:

    ```bash
    cp .env.example .env
    ```

3. Start the development server:

    ```bash
    npm run dev
    ```

### Documentation

1. Go to the `docs` directory and install the dependencies:

    ```bash
    pnpm i
    ```

2. Start the development server:

    ```bash
    pnpm dev
    ```
